(function(e){var a,p,s,u;s=function(){function e(e){if(e==null){e={}}this.options=e}e.prototype.htmlEncode=function(e){if(e!==null){return e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else{return""}};e.prototype.jsString=function(e){e=JSON.stringify(e).slice(1,-1);return this.htmlEncode(e)};e.prototype.decorateWithSpan=function(e,n){return'<span class="'+n+'">'+this.htmlEncode(e)+"</span>"};e.prototype.valueToHTML=function(e,n){var t;if(n==null){n=0}t=Object.prototype.toString.call(e).match(/\s(.+)]/)[1].toLowerCase();return this[""+t+"ToHTML"].call(this,e,n)};e.prototype.nullToHTML=function(e){return this.decorateWithSpan("null","null")};e.prototype.numberToHTML=function(e){return this.decorateWithSpan(e,"num")};e.prototype.stringToHTML=function(e){var n,t;if(/^(http|https|file):\/\/[^\s]+$/i.test(e)){return'<a href="'+this.htmlEncode(e)+'"><span class="q">"</span>'+this.jsString(e)+'<span class="q">"</span></a>'}else{n="";e=this.jsString(e);if(this.options.nl2br){t=/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g;if(t.test(e)){n=" multiline";e=(e+"").replace(t,"$1"+"<br />")}}return'<span class="string'+n+'">"'+e+'"</span>'}};e.prototype.booleanToHTML=function(e){return this.decorateWithSpan(e,"bool")};e.prototype.arrayToHTML=function(e,n){var t,l,r,s,i,o,a,p;if(n==null){n=0}l=false;i="";s=e.length;for(r=a=0,p=e.length;a<p;r=++a){o=e[r];l=true;i+="<li>"+this.valueToHTML(o,n+1);if(s>1){i+=","}i+="</li>";s--}if(l){t=n===0?"":" collapsible";return'[<ul class="array level'+n+t+'">'+i+"</ul>]"}else{return"[ ]"}};e.prototype.objectToHTML=function(e,n){var t,l,r,s,i,o,a;if(n==null){n=0}l=false;i="";s=0;for(o in e){s++}for(o in e){a=e[o];l=true;r=this.options.escape?this.jsString(o):o;i+='<li><span class="prop"><span class="q">"</span>'+r+'<span class="q">"</span></span>: '+this.valueToHTML(a,n+1);if(s>1){i+=","}i+="</li>";s--}if(l){t=n===0?"":" collapsible";return'{<ul class="obj level'+n+t+'">'+i+"</ul>}"}else{return"{ }"}};e.prototype.jsonToHTML=function(e){return'<div class="jsonview">'+this.valueToHTML(e)+"</div>"};return e}();typeof module!=="undefined"&&module!==null&&(module.exports=s);p=function(){function e(){}e.bindEvent=function(e,t){var n;n=document.createElement("div");n.className="collapser";n.innerHTML=t.collapsed?"+":"-";n.addEventListener("click",function(n){return function(e){return n.toggle(e.target,t)}}(this));e.insertBefore(n,e.firstChild);if(t.collapsed){return this.collapse(n)}};e.expand=function(e){var n,t;t=this.collapseTarget(e);if(t.style.display===""){return}n=t.parentNode.getElementsByClassName("ellipsis")[0];t.parentNode.removeChild(n);t.style.display="";return e.innerHTML="-"};e.collapse=function(e){var n,t;t=this.collapseTarget(e);if(t.style.display==="none"){return}t.style.display="none";n=document.createElement("span");n.className="ellipsis";n.innerHTML=" &hellip; ";t.parentNode.insertBefore(n,t);return e.innerHTML="+"};e.toggle=function(e,n){var t,l,r,s,i,o;if(n==null){n={}}r=this.collapseTarget(e);t=r.style.display==="none"?"expand":"collapse";if(n.recursive_collapser){l=e.parentNode.getElementsByClassName("collapser");o=[];for(s=0,i=l.length;s<i;s++){e=l[s];o.push(this[t](e))}return o}else{return this[t](e)}};e.collapseTarget=function(e){var n,t;t=e.parentNode.getElementsByClassName("collapsible");if(!t.length){return}return n=t[0]};return e}();a=e;u={collapse:function(e){if(e.innerHTML==="-"){return p.collapse(e)}},expand:function(e){if(e.innerHTML==="+"){return p.expand(e)}},toggle:function(e){return p.toggle(e)}};return a.fn.JSONView=function(){var t,e,n,l,r,i,o;t=arguments;if(u[t[0]]!=null){r=t[0];return this.each(function(){var e,n;e=a(this);if(t[1]!=null){n=t[1];return e.find(".jsonview .collapsible.level"+n).siblings(".collapser").each(function(){return u[r](this)})}else{return e.find(".jsonview > ul > li .collapsible").siblings(".collapser").each(function(){return u[r](this)})}})}else{l=t[0];i=t[1]||{};e={collapsed:false,nl2br:false,recursive_collapser:false,escape:true};i=a.extend(e,i);n=new s({nl2br:i.nl2br,escape:i.escape});if(Object.prototype.toString.call(l)==="[object String]"){l=JSON.parse(l)}o=n.jsonToHTML(l);return this.each(function(){var e,n,t,l,r,s;e=a(this);e.html(o);t=e[0].getElementsByClassName("collapsible");s=[];for(l=0,r=t.length;l<r;l++){n=t[l];if(n.parentNode.nodeName==="LI"){s.push(p.bindEvent(n.parentNode,i))}else{s.push(void 0)}}return s})}}})(jQuery);
